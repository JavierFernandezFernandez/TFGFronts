<div class="container min-vh-75">
  <div class="row pt-1">
    <h1 class="">Carrito</h1>
    <!-- Producto -->
    <div class="row col-7">
      <div
        class="rounded-2 border shopping-basket-product mb-2"
        *ngFor="let product of cart"
      >
        <div class="float-start w-50">
          <img
            src="../../../assets/img/familia-pccom-500x500.webp"
            alt=""
            class="w-25 me-4 float-start my-1 rounded"
          />
          <div class="row">
            <h3 class="float-start p-0">{{ product.nombre }}</h3>
          </div>
          <div calss="row">
            <h5 class="float-start">{{ priceWithIva(product).toFixed(2) }}€</h5>
          </div>
        </div>
        <div class="input-group mb-3 float-end quantity-selector mt-1">
          <button
            class="btn btn-outline-secondary"
            type="button"
            (click)="lessQuantity(quantity, product)"
          >
            -
          </button>
          <input
            type="text"
            class="form-control text-center"
            aria-label="Example text with two button addons"
            value="{{ product.quantity }}"
            #quantity
          />
          <button
            class="btn btn-outline-secondary"
            type="button"
            (click)="moreQuantity(quantity, product)"
          >
            +
          </button>
        </div>
        <div class="mb-3 float-end">
          <button class="btn btn-link text-dark" (click)="removeProduct(product)">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="32"
              height="32"
              fill="currentColor"
              class="bi bi-trash"
              viewBox="0 0 16 16"
            >
              <path
                d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5Zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6Z"
              />
              <path
                d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1ZM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118ZM2.5 3h11V2h-11v1Z"
              />
            </svg>
          </button>
        </div>
      </div>
      <h5 *ngIf="!cart || cart.length == 0">Todo está muy tranquilo por aquí...</h5>
    </div>
    <!--Resumen-->
    <div class="col-4 rounded-2 border ms-5">
      <h3>Resumen</h3>
      <div class="border-top border-bottom border-1 py-2">
        <div class="fw-bold">
          <div class="display-7 fw-bold">
            <span>Productos</span
            ><span class="float-end">{{ totalPrice() }}€</span>
          </div>
          <div class="fw-bold">
            <span>Envio</span><span class="float-end">0€</span>
          </div>
        </div>
      </div>
      <div>
        <div class="display-7 fw-bold">
          <span>Total</span><span class="float-end">{{ totalPrice() }}€</span>
        </div>
      </div>
      <div class="text-center my-2">
        <button
          type="button"
          class="btn btn-info btn-lg me-2 w-100"
          (click)="confirmOrder()"
          [disabled]="cart.length == 0"
        >
          Tramitar pedido
        </button>
      </div>
    </div>
  </div>
</div>
